{"version":3,"sources":["store/constants/User.js","store/reducer/UserReducer.js","config/config.js","services/axios.js","store/actions/UserActions.js","services/socket.js","store/provider/UserProvider.js","pages/Login.js","pages/SignUp.js","store/constants/Messages.js","store/reducer/MessageReducer.js","store/provider/MessageProvider.js","pages/Home.js","store/constants/ActiveChat.js","store/actions/ActiveChatActions.js","store/reducer/ActiveChatReducer.js","store/provider/ActiveChatProvider.js","components/Sidebar.js","components/Common/Modal.js","components/MessageItem.js","components/ChatArea.js","Context/Navbar.context.js","components/Navbar.js","pages/ChatList.js","store/actions/MessageActions.js","App.js","reportWebVitals.js","index.js"],"names":["USER_ADD_VERYTIFICATION_ID","USER_GET_CONTACTS_TO_STATE","USER_SET_IS_AUTHENTICATED","USER_SET_IS_ONLINE","USER_CHECK_BY_TOKEN","USER_LOGOUT","UserInitialState","_id","phone","username","surname","firstname","isVerified","authenticated","is_online","errorMessage","isLoading","contacts","UserReducer","state","action","type","userActions","payload","config","production","token","window","localStorage","getItem","headers","axios","instance","create","baseURL","API","CheckUser","dispatch","get","then","res","data","console","log","catch","err","socket","io","SOCKET_HOST","on","Context","createContext","UserProvider","children","useReducer","userState","userDispatch","useEffect","error","online_state","info","user_id","Provider","value","Consumer","useUser","onlyDispatch","useContext","Login","history","useHistory","passwordRef","useRef","phoneRef","useState","password","setInfo","Box","style","maxWidth","padding","width","margin","display","alignItems","flexDirection","component","fontSize","TextField","onChange","e","target","ref","size","id","label","variant","Button","onClick","post","setItem","push","userLogin","minWidth","marginTop","color","SignUp","step","setStep","counter","setCounter","startCounter","setTimeout","Date","expires","memoizedStartCounter","useCallback","timer","clearTimeout","verify_id","expires_veritification","expiry","x","sendSMSToPhone","code","VerifyPhone","to","MESSAGE_NEW_MESSAGE","MESSAGE_LOADING_START","MESSAGE_LOADING_SUCCESS","MESSAGE_LOADING_ERROR","MessageInitialState","messages","MessageReducer","messageActions","loading","MessageProvider","messageState","messageDispatch","message","useMessages","dispatchOnly","Home","ACTIVE_CHAT_INFOs_SET","selectChat","chat_id","chat_type","activeChatActions","activeChatInitialState","chat_messages","activeChatReducer","ActiveChatProvider","activeChatState","activeChatDispatch","chat_id_local","chat_type_local","useActiveChat","Sidebar","messagesState","unReadMessages","backgroundColor","height","borderRadius","fontWeight","justifyContent","flexWrap","overflow","length","map","user","key","unRead","filter","mes","from","isRead","ListItem","selected","button","divider","ListItemIcon","Badge","invisible","online","overlap","anchorOrigin","vertical","horizontal","Avatar","alt","lastname","src","ListItemText","primary","Modal","isOpen","setIsOpen","callback","close","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogActions","autoFocus","MessageItem","sended","containerStyle","componentId","paperStyle","lineHeight","marginLeft","marginRight","fontFamily","className","Paper","Typography","text","time","createdAt","getHours","getMinutes","animation","ChatArea","textRef","isValid","setIsValid","sendMessageAnotherUser","current","emit","messagesFiltered","position","maxHeight","overflowY","overflowX","minHeight","borderTop","onKeyPress","which","placeholder","outline","border","disabled","Telegram","NavbarContext","setOpen","toggleDrawer","event","Fragment","Drawer","anchor","role","onKeyDown","List","div","Divider","ContactsOutlined","SettingsOutlined","NightsStayOutlined","Switch","InfoOutlined","Navbar","anchorEl","setAnchorEl","Boolean","handleClose","AppBar","Toolbar","IconButton","edge","aria-label","flexGrow","aria-controls","aria-haspopup","currentTarget","AccountCircle","Menu","keepMounted","transformOrigin","MenuItem","removeItem","logout","ChatList","Container","Grid","container","spacing","paddingRight","item","xs","borderTopRightRadius","borderBottomRightRadius","paddingLeft","borderTopLeftRadius","borderBottomLeftRadius","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d0d6aba.chunk.js","sourcesContent":["export const USER_LOGIN = \"USER_LOGIN\"\r\nexport const USER_ADD_VERYTIFICATION_ID=\"USER_ADD_VERYTIFICATION_ID\"\r\n\r\nexport const USER_GET_CONTACTS_TO_STATE = \"GET_CONTACTS_TO_STATE\"\r\n\r\nexport const USER_SET_IS_AUTHENTICATED = \"SET_IS_AUTHENTICATED\"\r\n\r\nexport const USER_SET_IS_ONLINE = \"USER_SET_IS_ONLINE\"\r\n\r\nexport const USER_CHECK_BY_TOKEN=\"USER_CHECK_BY_TOKEN\"\r\nexport const USER_LOGOUT=\" USER_LOGOUT\"\r\n\r\nexport const USER_SELECT_CHAT=\"USER_SELECT_CHAT\"\r\n\r\n\r\nexport const USER_LOADING_START = \"USER_LOADING_START\"\r\nexport const USER_LOADING_END = \"USER_LOADING_END\"\r\nexport const USER_LOADING_ERROR = \"USER_LOADING_ERROR\"\r\nexport const USER_AUTH_ERROR = \"USER_LOADING_ERROR\"\r\n\r\n","import * as userActions from '../constants/User'\r\n\r\nexport const UserInitialState = {\r\n    _id:\"\",\r\n    phone:\"\",\r\n    username:\"\",\r\n    surname:\"\",\r\n    firstname:\"\",\r\n    isVerified:false, // sign up state\r\n    authenticated:false,\r\n    is_online:null,\r\n    errorMessage:null,\r\n    isLoading:false,\r\n    \r\n    contacts:[], // contacts kontaktga qo;shilganlar\r\n}\r\n\r\n\r\nexport const UserReducer =(state, action)=>{\r\n    switch(action.type){\r\n        // case userActions.USER_LOGIN: return { ...state,...{authenticated:action.payload} }\r\n        case userActions.USER_ADD_VERYTIFICATION_ID: return {...state, ...action.payload}\r\n        case userActions.USER_GET_CONTACTS_TO_STATE:return { ...state, ...{contacts:action.payload}}\r\n        case userActions.USER_SET_IS_AUTHENTICATED:return { ...state, ...{authenticated:action.payload} }\r\n        case userActions.USER_CHECK_BY_TOKEN:return {...state, ...action.payload}\r\n        case userActions.USER_SET_IS_ONLINE:return {...state, ...action.payload}\r\n        case userActions.USER_LOGOUT:return {...UserInitialState}\r\n        \r\n        \r\n\r\n        default: return {...state}\r\n    }\r\n    \r\n}","import {production, development} from './config.json'\r\n\r\nconst config = process.env.NODE_ENV === 'production' ? production : development\r\nexport default config","import instance from 'axios'\r\nimport config from '../config/config'\r\nconst token = window.localStorage.getItem('x-auth-token')\r\nconst headers = {\r\n  ...(token && {\"x-auth-token\":token})\r\n}\r\n\r\nconst axios = instance.create({\r\n    baseURL: config.API,\r\n    headers:headers\r\n  });\r\n\r\nexport { axios }","import * as userActions from '../constants/User'\r\nimport { axios } from '../../services/axios'\r\nexport const userLogin =(dispatch, info, history) =>{\r\n    axios.post('/auth/login', {\r\n        phone:info.phone,\r\n        password:info.password\r\n    }).then(res =>{\r\n        window.localStorage.setItem('x-auth-token', res.data.token)\r\n        CheckUser(dispatch)\r\n        history.push('/')\r\n        \r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n   \r\n}\r\n\r\nexport const sendSMSToPhone =(dispatch, phone, setStep) => {\r\n    console.log('Pre request phone', phone)\r\n    axios.post('/auth/request-send-sms', {\r\n        phone:phone\r\n    }).then(res =>{\r\n        dispatch({type:userActions.USER_ADD_VERYTIFICATION_ID, payload:{ verify_id: res.data._id, expires_veritification:res.data.expiry}})\r\n        setStep(x=>++x)\r\n\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const VerifyPhone =(info, setStep) => {\r\n    axios.post('/auth/confirm', {\r\n        phone:info.phone,\r\n        code:info.code,\r\n        _id:info.verify_id\r\n    }).then(res =>{\r\n        setStep(x=>++x)\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const CheckUser = (dispatch)=>{\r\n    axios.get('/auth/check-user', {\r\n        headers:{\r\n            'x-auth-token':window.localStorage.getItem('x-auth-token')\r\n        }\r\n    }).then((res)=>{\r\n        dispatch({type:userActions.USER_CHECK_BY_TOKEN, payload:res.data})\r\n        dispatch({type:userActions.USER_SET_IS_AUTHENTICATED, payload:true})\r\n        console.log('Auth suceeded')\r\n        // history.push('/')\r\n    })\r\n    .catch(err => {\r\n        dispatch({type:userActions.USER_SET_IS_AUTHENTICATED, payload:false})  \r\n        dispatch({type:userActions.USER_LOGOUT}) \r\n        console.log(err)\r\n        // history.push('/login')\r\n    })\r\n}\r\n\r\nexport const GetContactsUser = (dispatch, userState) => {\r\n    axios.get('/users' )\r\n    .then(res => {\r\n        dispatch({type:userActions.USER_GET_CONTACTS_TO_STATE, payload:res.data})\r\n    })  \r\n    .catch(error => {\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nexport const logout=(dispatch, history)=>{\r\n    window.localStorage.removeItem('x-auth-token')\r\n    dispatch({type:userActions.USER_LOGOUT})\r\n    history.push('/')\r\n}\r\n\r\n// export const selectChat=(dispatch, {chat_id,chat_type}, state) =>{\r\n    // dispatch({type:userActions.USER_SELECT_CHAT, })\r\n// }","import io from \"socket.io-client\";\r\nimport config from \"../config/config\";\r\n\r\nlet socket = io(config.SOCKET_HOST);\r\n\r\n\r\nsocket.on('disconnect', ()=>{\r\n    console.log('Disconnected')\r\n})\r\nexport default socket;","\r\nimport React, { createContext ,useContext, useReducer , useEffect} from 'react'\r\nimport { UserInitialState, UserReducer } from '../reducer/UserReducer'\r\nimport { CheckUser, GetContactsUser } from '../actions/UserActions'\r\nimport * as userActions from '../constants/User'\r\nimport socket from '../../services/socket'\r\n\r\nconst Context = createContext()\r\nexport default function UserProvider({children}) {\r\n    \r\n    const [userState, userDispatch] = useReducer(UserReducer, UserInitialState)\r\n    \r\n    useEffect(()=>{\r\n        GetContactsUser(userDispatch, userState._id)\r\n    }, [userState._id])\r\n    useEffect(()=>{\r\n        CheckUser(userDispatch)\r\n    },[])\r\n    useEffect(()=>{\r\n        socket.on('user_set_online_status', online_state => {\r\n            userDispatch({type:userActions.USER_SET_IS_ONLINE, payload:{is_online:online_state}})\r\n        })\r\n        socket.on('contacts_chats_is_online', info => {\r\n            console.log(info?.online_state, info.user_id)\r\n            // userDispatch({type:userActions.USER_SET_IS_ONLINE, payload:{is_online:online_state}})\r\n        })\r\n    }, [])\r\n    return (\r\n        <Context.Provider value={{userState,userDispatch}}>\r\n            <Context.Consumer>\r\n                {\r\n                    ()=>children\r\n                }\r\n            </Context.Consumer>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport const useUser=(onlyDispatch)=>{\r\n    const { userState, userDispatch } = useContext(Context)\r\n    return onlyDispatch ? [userDispatch] : [userState, userDispatch]\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Box, Button, TextField } from '@material-ui/core'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { userLogin } from '../store/actions/UserActions'\r\nimport { useHistory } from 'react-router-dom'\r\nexport default function Login() {\r\n    const [state, dispatch] = useUser()\r\n    const history = useHistory()\r\n    const passwordRef = useRef()\r\n    const phoneRef = useRef()\r\n    const [info, setInfo] = useState({ password:\"\", phone:\"\" })\r\n    const handleChangePhone =(e)=>{\r\n        setInfo(function(info){\r\n            return { ...info, ...{phone:e.target.value}}\r\n        })\r\n    }\r\n    const handleChangePassword =(e)=>{\r\n        setInfo(function(info){\r\n            return { ...info, ...{password:e.target.value}}\r\n        })\r\n    }\r\n    const handleSubmit =()=>{\r\n        userLogin(dispatch,info, history)\r\n    }\r\n    useEffect(()=>{\r\n        console.log(state)\r\n    }, [state])\r\n    return (\r\n        <Box style={{ maxWidth: \"600px\", padding: \"20px\", width: \"100%\",  margin: 'auto', display: 'flex', alignItems: 'center', flexDirection:'column' }} component=\"div\">\r\n            {\r\n                state.authenticated ? \"Already LOgged In\" : \r\n                <>\r\n                <Box  style={{fontSize:'24px', padding:\"10px\"}}>\r\n                Login\r\n                </Box>\r\n                <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                    <TextField onChange={handleChangePhone} ref={phoneRef} style={{width:\"100%\"}} size=\"small\" id=\"phone\" label=\"Phone\" variant=\"outlined\" />\r\n                </Box>\r\n                <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                    <TextField onChange={handleChangePassword} type=\"password\" ref={passwordRef} style={{width:\"100%\"}} size=\"small\" id=\"password\" label=\"Password\" variant=\"outlined\" />\r\n                </Box>\r\n                <Button onClick={handleSubmit} style={{ minWidth: '50%' , marginTop:\"20px\"}} variant=\"contained\" color=\"primary\">Get Verification Code</Button>\r\n                </> \r\n            }\r\n        </Box>\r\n    )\r\n}\r\n","import React, {  useEffect,  useState, useCallback } from 'react'\r\nimport { Box, Button, TextField } from '@material-ui/core'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { sendSMSToPhone,  VerifyPhone } from '../store/actions/UserActions'\r\nimport { Link } from 'react-router-dom'\r\nexport default function SignUp() {\r\n    const [state, dispatch] = useUser()\r\n    const [info, setInfo] = useState({phone:\"\"})\r\n    const [ step, setStep] = useState(0)\r\n    const [counter, setCounter] = useState(0)\r\n    const startCounter =()=>{\r\n        return setTimeout(()=>{\r\n            setCounter(new Date(state?.expires) - new Date())\r\n            }, 1000)\r\n    }\r\n    const handleChangePhone =(e)=>{\r\n        setInfo(function(info){\r\n            return { ...info, ...{phone:e.target.value}}\r\n        })\r\n    }\r\n    // const handleChangePassword =(e)=>{\r\n    //     setInfo(function(info){\r\n    //         return { ...info, ...{password:e.target.value}}\r\n    //     })\r\n    // }\r\n    const handleSubmit =()=>{\r\n        sendSMSToPhone(dispatch ,info.phone, setStep)\r\n        \r\n    }\r\n    const handleChangeCode=(e)=>{\r\n        setInfo(function(info){\r\n            return { ...info, ...{code:e.target.value}}\r\n        })\r\n    }\r\n    const handleVerifyPhone = () => {\r\n        VerifyPhone(info, setStep)\r\n    }\r\n    const handleSentUserInfo =()=>{\r\n        setStep(x=>++x)\r\n    } \r\n    const memoizedStartCounter = useCallback(startCounter, [startCounter])\r\n    useEffect(()=>{\r\n        let timer\r\n        if(step===1){\r\n             timer = memoizedStartCounter()\r\n        }\r\n        return ()=>{\r\n            clearTimeout(timer)\r\n        }\r\n    }, [step, memoizedStartCounter])\r\n    return (\r\n        <Box style={{ maxWidth: \"600px\", padding: \"20px\", width: \"100%\",  margin: 'auto', display: 'flex', alignItems: 'center', flexDirection:'column' }} component=\"div\">\r\n            {\r\n                !state.authenticated ? \r\n                    <>\r\n                    <Box  style={{fontSize:'24px', padding:\"10px\"}}>\r\n                    SignUp\r\n                    </Box>\r\n                    {step ===0 ?\r\n                     <>\r\n                     <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField onChange={handleChangePhone}  style={{width:\"100%\"}} size=\"small\" id=\"phone\" label=\"Phone\" variant=\"outlined\" />\r\n                    </Box> \r\n                    <Button onClick={handleSubmit} style={{ minWidth: '50%' , marginTop:\"20px\"}} variant=\"contained\" color=\"primary\">Get Verification Code</Button>\r\n                     </>: \r\n                    step === 1 ? <>\r\n                    {counter}\r\n                        <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField onChange={handleChangeCode} style={{width:\"100%\"}} size=\"small\" id=\"code\" label=\"Code\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Button onClick={handleVerifyPhone} style={{ minWidth: '50%' , marginTop:\"20px\"}} variant=\"contained\" color=\"primary\">Get Verification Code</Button>\r\n                    </> :\r\n                    step === 2 ? <>\r\n                    <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField   style={{width:\"100%\"}} size=\"small\" id=\"code\" label=\"Firstname\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField   style={{width:\"100%\"}} size=\"small\" id=\"code\" label=\"Lastname\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField   style={{width:\"100%\"}} size=\"small\" id=\"code\" label=\"Password\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField   style={{width:\"100%\"}} size=\"small\" id=\"code\" label=\"Password (Retype)\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Button onClick={handleSentUserInfo} style={{ minWidth: '50%' , marginTop:\"20px\"}} variant=\"contained\" color=\"primary\">Get Verification Code</Button>\r\n                     \r\n                    </> : <>\r\n                    <Link to=\"/\" >Bosh sahifaga </Link>\r\n                    </>}\r\n                    {/* <Box  style={{padding:'10px', width:\"80%\"}}>\r\n                        <TextField onChange={handleChangePassword} type=\"password\" ref={passwordRef} style={{width:\"100%\"}} size=\"small\" id=\"password\" label=\"Password\" variant=\"outlined\" />\r\n                    </Box> */}\r\n                    \r\n                </> : \"Already LOgged In\"\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n","export const MESSAGE_NEW_MESSAGE = \"MESSAGE_NEW_MESSAGE\"\r\n\r\n\r\nexport const MESSAGE_LOADING_START = \"MESSAGE_LOADING_START\"\r\nexport const MESSAGE_LOADING_SUCCESS = \"MESSAGE_LOADING_SUCCESS\"\r\nexport const MESSAGE_LOADING_ERROR = \"MESSAGE_LOADING_ERROR\"\r\n","import * as messageActions from '../constants/Messages'\r\n\r\nexport const MessageInitialState = {\r\n    isLoading:false,\r\n    error:null,\r\n    messages:[]\r\n}\r\n\r\nexport const MessageReducer=(state, action)=>{\r\n    switch(action.type){\r\n        case messageActions.MESSAGE_NEW_MESSAGE:return {...state, messages:[...state.messages, ...[action.payload]]}\r\n        \r\n        case messageActions.MESSAGE_LOADING_START:return { ...state, loading:action.payload}\r\n        \r\n        case messageActions.MESSAGE_LOADING_SUCCESS:return { ...state, messages:action.payload}\r\n\r\n        case messageActions.MESSAGE_LOADING_ERROR:return {...state, error:action.payload}\r\n\r\n\r\n        default:return {...MessageInitialState}\r\n    }\r\n}","import { createContext, useContext, useReducer } from \"react\";\r\nimport { MessageInitialState, MessageReducer } from \"../reducer/MessageReducer\";\r\nimport * as messageActions from '../constants/Messages'\r\nimport socket from \"../../services/socket\";\r\nimport { useEffect } from \"react\";\r\nconst Context = createContext()\r\n\r\nexport default function MessageProvider({children}) {\r\n\r\n    const [messageState, messageDispatch] = useReducer(MessageReducer, MessageInitialState)\r\n\r\n    useEffect(()=>{\r\n        socket.on('send_message_request_to_client', (message)=>{\r\n            messageDispatch({type:messageActions.MESSAGE_NEW_MESSAGE, payload:message})\r\n            console.log(message)\r\n        })\r\n        socket.on('send_message_error', (error)=>{\r\n            messageDispatch({type:messageActions.MESSAGE_LOADING_ERROR, payload:error})\r\n        })\r\n    }, [])\r\n    return (\r\n        <Context.Provider value={{messageState, messageDispatch}}>\r\n            <Context.Consumer>\r\n                {\r\n                    ()=>children\r\n                }\r\n            </Context.Consumer>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport const useMessages =(dispatchOnly) =>{\r\n    const {messageState, messageDispatch} = useContext(Context)\r\n    return dispatchOnly ? [messageDispatch] : [messageState, messageDispatch] \r\n}\r\n","import React from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport socket from '../services/socket'\r\nimport { useMessages } from '../store/provider/MessageProvider'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport * as messageActions from '../store/constants/Messages'\r\nexport default function Home() {\r\n    \r\n    const [userState] = useUser()\r\n    return (\r\n        <div>\r\n                <>\r\n                { userState?.authenticated ?  <Redirect to=\"/chat\" /> : \"\" }\r\n                <Link to=\"/login\" >Login </Link>\r\n                <Link to=\"/sign-up\" >SignUp </Link>\r\n                <Link to=\"/chat\" >Chat </Link>\r\n                </>\r\n        </div>\r\n    )\r\n}\r\n","export const ACTIVE_CHAT_INFOs_SET = \"ACTIVE_CHAT_INFOs_SET\"","import * as activeChatActions from '../constants/ActiveChat'\r\nexport const selectChat=(dispatch, chat_id, chat_type)=>{\r\n   \r\n        localStorage.setItem(\"current_chat_id\",chat_id)\r\n        localStorage.setItem(\"current_chat_type\",chat_type)    \r\n    \r\n        dispatch({type:activeChatActions.ACTIVE_CHAT_INFOs_SET, payload:{chat_id, chat_type }})\r\n}","import * as activeChatActions from '../constants/ActiveChat'\r\n\r\nexport const activeChatInitialState = {\r\n    chat_id:null,\r\n    chat_type:\"NONE\", // default NONE , ENUM:['CHANNEL','GROUP', 'USER']\r\n    chat_messages:[],\r\n    loading:false,\r\n    error:null\r\n}\r\n\r\nexport const activeChatReducer =(state, action)=>{\r\n    switch(action.type){\r\n        case activeChatActions.ACTIVE_CHAT_INFOs_SET: return { \r\n            ...state,\r\n            ...{\r\n                chat_id:action.payload.chat_id,\r\n                chat_type:action.payload.chat_type\r\n            }\r\n        }\r\n\r\n        default: return {...state}\r\n    }\r\n    \r\n}","import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { selectChat } from \"../actions/ActiveChatActions\";\r\nimport { activeChatInitialState, activeChatReducer } from \"../reducer/ActiveChatReducer\";\r\n\r\nconst Context = createContext()\r\n\r\nexport default function ActiveChatProvider({children}) {\r\n    const [ activeChatState, activeChatDispatch ] = useReducer(activeChatReducer, activeChatInitialState)\r\n    useEffect(()=>{\r\n        const chat_id_local = localStorage.getItem('current_chat_id')\r\n        const chat_type_local = localStorage.getItem('current_chat_type')\r\n        if(chat_id_local && chat_type_local)\r\n            selectChat(activeChatDispatch, chat_id_local, chat_type_local)\r\n    }, [])\r\n    return (\r\n        <Context.Provider value={{activeChatState, activeChatDispatch}}>\r\n            <Context.Consumer>\r\n                {\r\n                    ()=>children\r\n                }\r\n            </Context.Consumer>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport const useActiveChat =(dispatchOnly) =>{\r\n    const {activeChatState, activeChatDispatch} = useContext(Context)\r\n    return dispatchOnly ? [activeChatDispatch] : [activeChatState, activeChatDispatch] \r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { ListItem, Avatar, ListItemIcon,makeStyles,ListItemText, Badge, Box } from '@material-ui/core'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { useActiveChat } from '../store/provider/ActiveChatProvider'\r\nimport { selectChat } from '../store/actions/ActiveChatActions'\r\nimport { useMessages } from '../store/provider/MessageProvider'\r\n\r\nexport default function Sidebar() {\r\n    const [userState] = useUser()\r\n    const [activeChatState, activeChatDispatch] = useActiveChat()\r\n    const [messagesState] = useMessages()\r\n\r\n    const parentStyle = {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        overflow: 'hidden',\r\n    }\r\n    useEffect(() => {\r\n        console.log(messagesState)\r\n    }, [messagesState])\r\n    const unReadMessages = {\r\n        backgroundColor:\"#8e9be4\",\r\n        color:\"white\",\r\n        width:\"25px\",\r\n        height:\"25px\",\r\n        borderRadius:\"50%\",\r\n        fontWeight:600,\r\n        display:\"flex\",\r\n        alignItems:\"center\",\r\n        justifyContent:\"center\"\r\n    }\r\n    return (\r\n        <div style={parentStyle}>\r\n            {\r\n                userState && (\r\n                    userState?.contacts.length > 0 ?\r\n                        <>\r\n                            {\r\n                                userState.contacts.map((user, key) => {\r\n                                    const unRead = messagesState?.messages.filter(mes => (mes.from === user._id || mes.to === user._id ) && !mes.isRead  ? mes : \"\")\r\n                                    if (user._id === userState._id) return \"\"\r\n                                    return <ListItem onClick={() => selectChat(activeChatDispatch, user._id, \"USER\", messagesState?.messages)} key={key} selected={activeChatState.chat_id === user._id} button divider>\r\n\r\n                                        <ListItemIcon>\r\n                                            <Badge color=\"primary\" invisible={!user?.online} overlap=\"circle\" anchorOrigin={{ vertical: 'bottom', horizontal: 'right', }} variant=\"dot\">\r\n                                                <Avatar alt={`${user?.lastname} ${user?.firstname} `} src=\"/static/images/avatar/1.jpg\" />\r\n                                            </Badge>\r\n                                        </ListItemIcon>\r\n\r\n                                        <ListItemText primary={`${user?.lastname} ${user?.firstname} `} />\r\n                                        <Box style={unReadMessages}>{unRead.length}</Box>\r\n                                    </ListItem>\r\n                                })\r\n\r\n                            }\r\n                        </> :\r\n                        <>\r\n                            Sizda hali Userlar yo'q\r\n                        </>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import {useState} from 'react'\r\nimport { DialogTitle, Dialog ,DialogContent,DialogContentText,DialogActions, Button} from '@material-ui/core';\r\n\r\nexport default function Modal({isOpen, setIsOpen, callback}) {\r\n    const handleClose =()=>{\r\n        setIsOpen(false)\r\n        callback()\r\n    }\r\n    const close=()=>{\r\n        setIsOpen(false)\r\n    }\r\n    return (\r\n        <Dialog\r\n            open={isOpen}\r\n            onClose={close}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{\"Xabarni chindan O'chirmoqchimisiz?\"}</DialogTitle>\r\n\r\n            <DialogActions>\r\n            <Button onClick={close} color=\"danger\" autoFocus>\r\n                Yo'q\r\n            </Button>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n                Ha\r\n            </Button>\r\n            </DialogActions>\r\n      </Dialog>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Box, Paper } from '@material-ui/core'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { ContextMenu, ContextMenuTrigger, ContextMenuItem } from 'rctx-contextmenu'\r\nimport { Typography } from '@material-ui/core'\r\nimport Modal from './Common/Modal'\r\nexport default function MessageItem({message, sended}) {\r\n    const [userState, userDispatch] = useUser()\r\n    const containerStyle = {\r\n        display:\"flex\", \r\n        width:\"100%\",\r\n        justifyContent: sended ?  \"flex-end\" : 'flex-start'\r\n    }\r\n    const componentId = `compoennt_${message._id}`\r\n    const paperStyle = {\r\n        padding: \"4px 6px\",\r\n        lineHeight:\"10px\",\r\n        borderRadius: \"7px\",\r\n        margin: \"2px\",\r\n        marginLeft:sended ?  \"auto\" : '10px',\r\n        marginRight:sended ? '10px':\"auto\",\r\n        /* COLOR: WHITE; */\r\n        fontSize: \"12px\",\r\n        flexDirection:'column',\r\n        fontWeight: 400,\r\n        color: \"#565656\",\r\n        fontFamily: 'Roboto',\r\n        maxWidth:'60%',\r\n        display:\"flex\",\r\n        width:\"fit-content\",\r\n        backgroundColor: sended ?  \"rgb(119, 139, 253)\" : '#efeff'\r\n    }\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const deleteHandle =(id)=>{\r\n        console.log(id)\r\n    }\r\n    const createdAt = ()=>{\r\n        const time = new Date(message?.createdAt)\r\n        return `${time.getHours()}:${time.getMinutes()}`\r\n    }\r\n    return (\r\n        <>\r\n                <Modal isOpen={isOpen} setIsOpen={setIsOpen} callback={()=>deleteHandle(message?._id)} />\r\n                <Box style={containerStyle}>\r\n                    <ContextMenuTrigger className=\"context-menu-display\" id={componentId} >\r\n                        <Paper  variant=\"outlined\" style={paperStyle}>\r\n                            <Typography >{message.text}</Typography>\r\n                            <Box style={{display:'flex', marginLeft:'auto' ,color:sended ? \"blue\" : '#6d6d6dde'}}>\r\n                                {createdAt}\r\n                            </Box>\r\n                        </Paper>\r\n                        \r\n                    </ContextMenuTrigger>\r\n                </Box>\r\n\r\n            <ContextMenu animation=\"fade\" id={componentId}>\r\n                <ContextMenuItem onClick={()=>{setIsOpen(true)}}>Delete</ContextMenuItem>\r\n                <ContextMenuItem>Menu Item 2</ContextMenuItem>\r\n                <ContextMenuItem>Menu Item 3</ContextMenuItem>\r\n                <ContextMenuItem>Menu Item 4</ContextMenuItem>\r\n            </ContextMenu>\r\n        </>\r\n        \r\n    )\r\n}\r\n","import React, { useEffect, useRef , useState } from 'react'\r\nimport { Box ,Button } from '@material-ui/core'\r\nimport { useActiveChat } from '../store/provider/ActiveChatProvider'\r\nimport MessageItem from './MessageItem'\r\nimport socket from '../services/socket'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { useMessages } from '../store/provider/MessageProvider'\r\nimport { Telegram } from '@material-ui/icons'\r\nexport default function ChatArea() {\r\n    const [ activeChatState ] = useActiveChat()\r\n    const textRef = useRef()\r\n    const [userState] = useUser()\r\n    const [ messageState ] = useMessages()\r\n\r\n    const [isValid, setIsValid] = useState(false)\r\n\r\n    const sendMessageAnotherUser =()=>{\r\n        const message = {\r\n            from:userState?._id,\r\n            to:activeChatState?.chat_id,\r\n            text:textRef.current.value,\r\n        }\r\n        socket.emit('send_message_request_to_server', message)\r\n        textRef.current.value =\"\"\r\n    }\r\n    const handleTextChange=(e)=>{\r\n        if(e.target.value==\"\")setIsValid(false)\r\n        else setIsValid(true)\r\n    }\r\n    const handleKeyPress =(e) => {\r\n        if(e.which ===13 && isValid)sendMessageAnotherUser()\r\n        if(e.target.value==\"\")setIsValid(false)\r\n        else setIsValid(true)\r\n    }\r\n    const messagesFiltered = messageState.messages.filter(mes => \r\n        mes.from === activeChatState.chat_id || mes.to === activeChatState.chat_id ? mes : '')\r\n    return (\r\n        <Box style={{height:'100%',display:'flex',position:\"relative\", flexDirection:'column'}}>\r\n\r\n            {\r\n                ( activeChatState.chat_id && activeChatState.chat_type!== \"NONE\") ? \r\n                <>\r\n                    <Box style={{padding:'3px',maxHeight:'93%', height:'93%', overflowY:'scroll', overflowX:\"hidden\"}}>\r\n                        <Box>\r\n                            {\r\n                                \r\n                                    messagesFiltered.length <= 0 ?  \r\n                                <>No messages found</>\r\n                                :\r\n                                <>{\r\n                                    messagesFiltered.map((mes, key) => {\r\n                                        return <MessageItem key={key} message={mes} sended={activeChatState.chat_id===mes.to}/>\r\n                                    })  \r\n                                }</>\r\n                            }\r\n                        </Box>                \r\n                    </Box>\r\n                    <Box style={{height:'38px', minHeight:'25px', display:'flex', borderTop:'1px solid rgba(0, 0, 0, 0.54)'}}>\r\n                        <Button color=\"primary\"></Button>\r\n                        <input onChange={handleTextChange} onKeyPress={handleKeyPress} ref={textRef} placeholder=\"Write message here...\"  style={{fontSize:\"16px\", width:\"100%\", outline:\"none\", border:\"none\"}}/>\r\n                        <Button color=\"primary\" disabled={!isValid} onClick={sendMessageAnotherUser}> <Telegram/> </Button>\r\n                    </Box>\r\n                </> \r\n                :\r\n                <> SIZDA CHATLAR YO'Q</>\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n","import React, { createContext, useContext, useState } from 'react'\r\nimport { ListItem,List, Drawer,Divider,ListItemIcon, ListItemText, Switch ,Typography} from '@material-ui/core';\r\nimport { SettingsOutlined,InfoOutlined,NightsStayOutlined, ContactsOutlined } from '@material-ui/icons';\r\nimport { useUser } from '../store/provider/UserProvider';\r\nconst Context = createContext()\r\n\r\nexport default function NavbarContext({children}) {\r\n    const [open, setOpen] = useState(false)\r\n    const [userState] = useUser()\r\n    const list = () => (\r\n        <div\r\n        style={{width:240}}\r\n        role=\"presentation\"\r\n        // onClick={toggleDrawer( false)}\r\n        onKeyDown={toggleDrawer(false)}\r\n        >\r\n            \r\n            <List>\r\n                <ListItem div style={{display:\"flex\", alignItems:\"flex-start\",flexDirection:\"column\"}}>\r\n                    <Typography>\r\n                        {`${userState?.lastname}  ${userState?.firstname}`}\r\n                    </Typography>\r\n                    <ListItemText primary={userState?.phone} />\r\n                </ListItem>\r\n            </List>\r\n            <Divider />\r\n           \r\n                \r\n            <List >\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <ContactsOutlined/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Contacts\" />\r\n                </ListItem>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <SettingsOutlined/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Settings\" />\r\n                </ListItem>\r\n                \r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <NightsStayOutlined/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Night Mode\" />\r\n                    <Switch color=\"primary\" />\r\n                </ListItem>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <InfoOutlined/>\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"About\" />\r\n                </ListItem>\r\n            </List>\r\n\r\n{/* \r\n            <FormControlLabel\r\n          value=\"start\"\r\n          control={<Switch color=\"primary\" />}\r\n          label=\"Start\"\r\n          labelPlacement=\"start\"\r\n        /> */}\r\n\r\n            \r\n                \r\n        </div>);\r\n\r\n    const toggleDrawer = (open) => (event) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n          return;\r\n        } \r\n        setOpen(open)\r\n      };\r\n    return (\r\n        <>\r\n            <div>\r\n                <React.Fragment >\r\n                    <Drawer anchor=\"left\" open={open} onClose={toggleDrawer(false)}>\r\n                        {list()}\r\n                    </Drawer>\r\n                </React.Fragment>\r\n            </div>\r\n            <Context.Provider value ={{setOpen}}>\r\n                <Context.Consumer>\r\n                    {\r\n                        ()=>children\r\n                    }\r\n                </Context.Consumer>\r\n            </Context.Provider>\r\n        </>\r\n    )\r\n}\r\nexport const useNavbar =()=>{\r\n    const { setOpen} = useContext(Context)\r\n    return [setOpen]\r\n}","import React, {  useState } from 'react'\r\nimport { AppBar, Typography, Toolbar, Menu, MenuItem,IconButton } from '@material-ui/core'\r\nimport { Menu as MenuIcon, AccountCircle } from '@material-ui/icons'\r\nimport { useUser } from '../store/provider/UserProvider';\r\nimport { logout } from '../store/actions/UserActions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useNavbar } from '../Context/Navbar.context';\r\nexport default function Navbar() {\r\n  const [userState,userDispatch] = useUser()\r\n  const history = useHistory()\r\n  const [anchorEl, setAnchorEl] =useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleLogout=()=>{\r\n    logout(userDispatch, history)\r\n  }\r\n  const [ toggleDrawer ] = useNavbar()\r\n  return (\r\n        <AppBar style={{height:'100%',justifyContent:'flex-start'}} position=\"static\">\r\n        <Toolbar style={{height:'70%'}}>\r\n          <IconButton onClick={()=>{toggleDrawer(true)}} edge=\"start\"  color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{flexGrow:1}}>\r\n          {userState.is_online  ? 'Online' : 'Offline'}\r\n          </Typography>\r\n          <Typography variant=\"h6\">\r\n          {`${userState?.lastname} ${userState?.firstname}`}\r\n          </Typography>\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                <MenuItem  onClick={handleClose}>My account</MenuItem>\r\n                <MenuItem style={{color:\"red\"}}  onClick={handleLogout}>Logout</MenuItem>\r\n              </Menu>\r\n            </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n}\r\n","import { Container,Box, Grid, Paper } from '@material-ui/core'\r\nimport Sidebar from '../components/Sidebar'\r\nimport ChatArea from '../components/ChatArea'\r\nimport Navbar from '../components/Navbar'\r\nimport { useEffect } from 'react'\r\nimport { getAllMessages } from '../store/actions/MessageActions'\r\nimport { useMessages } from '../store/provider/MessageProvider'\r\nimport { useUser } from '../store/provider/UserProvider'\r\nimport { Redirect } from 'react-router-dom'\r\nexport default function ChatList() {\r\n    const [ userState, userDispatch ] = useUser()\r\n    const [messageState, messageDispatch] = useMessages()\r\n    useEffect(()=>{\r\n        getAllMessages(messageDispatch)\r\n    },[messageDispatch])\r\n    const sideBarGridStyle = {\r\n        height:\"100%\", \r\n        paddingRight:'0',\r\n    }\r\n    return (\r\n        <>\r\n        { !userState?.authenticated ?  <Redirect to=\"/\" /> : \"\" }\r\n        <Container style={{height:\"100vh\", padding:\"0\", width:'100%'}}>\r\n            \r\n            <Box style={{height:'8%'}}>\r\n                <Navbar /> \r\n            </Box>\r\n            <Grid style={{height:\"92%\"}} container spacing={1}>\r\n                <Grid style={sideBarGridStyle} item xs={3}>\r\n                    <Paper style={{height:\"100%\", marginTop:'5px',borderTopRightRadius:'0px',borderBottomRightRadius:'0px'}}>\r\n                        <Sidebar />\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item style={{paddingLeft:\"3px\"}} xs={9}>\r\n                    <Paper style={{height:\"100%\", marginTop:'5px',borderTopLeftRadius:'0px',borderBottomLeftRadius:'0px'}}>\r\n                        <ChatArea />\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n","import { axios } from '../../services/axios'\r\nimport * as messageActions from '../constants/Messages'\r\n\r\nexport const recieveMessage =(dispatch, message)=>{\r\n    dispatch({type:messageActions.MESSAGE_NEW_MESSAGE,payload:message })\r\n}\r\n\r\nexport const getAllMessages =(dispatch) => {\r\n    dispatch({type:messageActions.MESSAGE_LOADING_START, payload:true})\r\n    axios.get('/messages')\r\n    .then(res => {\r\n        dispatch({type:messageActions.MESSAGE_LOADING_SUCCESS, payload:res.data})\r\n    })\r\n    .catch(error=>{\r\n        dispatch({type:messageActions.MESSAGE_LOADING_ERROR, payload:error})\r\n    })\r\n    dispatch({type:messageActions.MESSAGE_LOADING_START, payload:false})\r\n}\r\n","import './App.css';\nimport React, { useEffect, useState } from 'react'\nimport Container from '@material-ui/core/Container'\nimport  { BrowserRouter as Router, Switch, Route  } from 'react-router-dom'\nimport Login from './pages/Login';\nimport SignUp from './pages/SignUp';\nimport Home from './pages/Home';\nimport { useUser } from './store/provider/UserProvider';\nimport socket from './services/socket'\nimport { useMessages } from './store/provider/MessageProvider';\nimport ChatList from './pages/ChatList';\nconst connectPrivateRoom=(id)=>{\n  socket.emit('connect_private_room',id)\n}\nfunction App() {\n  const [userState] = useUser()\n  const [messagesState] = useMessages()\n  useEffect(()=>{\n    console.log(messagesState)\n  }, [messagesState])\n\n  const { _id } = userState\n\n  \n  useEffect(()=>{\n    if(_id)connectPrivateRoom(_id)\n  }, [_id])\n  return (\n    <div className=\"App\">\n          <Router>\n              <Switch>\n                <Route path=\"/\" component ={Home} exact/>\n                <Route path=\"/chat\" component ={ChatList}/>\n                <Route path=\"/login\">\n                  <Container style={{height:\"100vh\", alignItems:'center', display:'flex'}}>\n                    <Login />\n                  </Container>\n                </Route>\n                <Route path=\"/sign-up\">\n                  <Container style={{height:\"100vh\", alignItems:'center', display:'flex'}}>\n                    <SignUp />\n                  </Container>\n                </Route>\n              </Switch>\n          </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport UserProvider from './store/provider/UserProvider'\nimport MessageProvider from './store/provider/MessageProvider';\nimport ActiveChatProvider from './store/provider/ActiveChatProvider';\nimport NavbarContext from './Context/Navbar.context';\n\nReactDOM.render(\n  <React.StrictMode>\n   \n      <UserProvider>\n        <ActiveChatProvider>\n        <NavbarContext>\n          <MessageProvider>\n            <App />\n          </MessageProvider> \n          </NavbarContext>\n        </ActiveChatProvider>     \n      </UserProvider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}